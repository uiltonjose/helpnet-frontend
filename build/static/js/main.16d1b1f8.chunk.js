(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(33),i=a.n(r),s=a(106),l=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function c(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(58),a(60);var u=a(35),d=a(105),m=a(48),g=a.n(m),p=a(5),f=a(6),v=a(8),h=a(7),b=a(9),E=a(104),S=a(107),O=a(13),C=(a(24),a(45).initializeApp({apiKey:"AIzaSyCxsIsHEq2QZOdSmrCG5LpQeqY-wQW5_u4",authDomain:"helpnet-3a519.firebaseapp.com",databaseURL:"https://helpnet-3a519.firebaseio.com",projectId:"helpnet-3a519",storageBucket:"helpnet-3a519.appspot.com",messagingSenderId:"550379662303"})),N=function(e){Object(O.confirmAlert)({title:"",message:"Tem certeza que deseja sair?",buttons:[{label:"Sim",onClick:function(){return function(e){C.auth().signOut().then(function(){localStorage.clear(),e.push("/")})}(e)}},{label:"N\xe3o",onClick:function(){return console.log("close dialog")}}]})},y=a(46),j=a.n(y),x=a(28),I=a.n(x),k=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(v.a)(this,Object(h.a)(t).call(this,e))).state={isLogged:!1,providerLogin:""},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e=this;C.auth().onAuthStateChanged(function(t){t?(localStorage.setItem("isLogged",!0),e.setState({isLogged:!0})):(localStorage.setItem("isLogged",!1),e.setState({isLogged:!1}))});var t=localStorage.getItem("userInfo"),a=JSON.parse(t).login;this.setState({providerLogin:a})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,this.state.isLogged&&o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},o.a.createElement("img",{src:j.a,alt:"Help Net",style:w.logo}),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarText"},o.a.createElement("ul",{className:"navbar-nav mr-auto"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(E.a,{className:"nav-link",to:"/home"},"Home ",o.a.createElement("span",{className:"sr-only"},"(current)"))),o.a.createElement("li",{className:"nav-item"},o.a.createElement(E.a,{className:"nav-link",to:"/myData",id:"as"},"Meus Dados")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(E.a,{className:"nav-link",to:"/sendNotification"},"Enviar Notifica\xe7\xe3o")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(E.a,{className:"nav-link",to:"/listNotification"},"Listar Notifica\xe7\xe3o")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(E.a,{className:"nav-link",to:"/listOS"},"Listar OS"))),o.a.createElement("div",{id:"logout-group"},o.a.createElement("p",{id:"providerLogin"},this.state.providerLogin),o.a.createElement("button",{id:"logout-btn",className:"btn btn-outline-light my-2 my-sm-0",onClick:function(){return N(e.props.history)}},"Sair")))))}}]),t}(n.Component),w={logo:{height:1150}},T=Object(S.a)(k);I()(document).ready(function(){I()(document).on("click",".nav-item a",function(e){I()(this).parent().addClass("active").siblings().removeClass("active")})});var A=function(e){function t(){return Object(p.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=localStorage.getItem("userInfo"),a=JSON.parse(t);a&&void 0!==a&&"Ativo"===a.status||C.auth().signOut().then(function(){localStorage.clear(),e.props.history.push("/")})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"text-center"},o.a.createElement("h5",{className:"title"},"Bem vindo ao Help Net!")))}}]),t}(n.Component),P=Object(S.a)(A),M=function(e){function t(){return Object(p.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"text-center"},o.a.createElement("h5",{className:"title"},"Nesta tela ser\xe3o exibidas as informa\xe7\xf5es do provedor logado")))}}]),t}(n.Component),L=a(12),D=a(23),R=a(15),H=a(22),U=a(20),F=a.n(U),_=a(21),J=a.n(_),q=(a(29),a(30),function(e,t,a,n){console.log(t);var o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&(200===o.status?n(o.responseText):n(o.response))},o.open(e,t,!0),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(a))}),W=function(e){return"https://helpnetws.herokuapp.com/"+e},B=function(e,t){q("GET",W(e),null,t)},z=function(e,t,a){q("POST",W(e),t,a)},Y=function(e,t,a){q("PUT",W(e),t,a)},Q={listCustomerByProviderId:"api/customer/listByProviderId?providerId=",listNotificationsByProviderId:"api/notification/listByProviderId?providerId=",listOSsByProviderId:"api/os/listByProviderId?providerId=",sendNotification:"api/notification/sendNotification",listProviders:"api/provider/listProviders",addUser:"api/user/add",updateUser:"api/user/updateStatus",getUserInfo:"api/user/info?userLogin="},Z=function(e,t,a){Object(O.confirmAlert)({title:e,message:t,buttons:[{label:"Ok",onClick:function(){return a()}}]})},K=Q.listCustomerByProviderId,G=Q.sendNotification,V=F()(H.a),X=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(v.a)(this,Object(h.a)(t).call(this,e))).unavailableServiceAlert=function(){Object(O.confirmAlert)({title:"",message:"O servi\xe7o est\xe1 indispon\xedvel, por favor tente novamente. Caso o problema volte ocorrer, entre em contato com o suporte.",buttons:[{label:"OK",onClick:function(){return console.log("Connection refusied")}}]})},a.loadCustomers=function(){var e=a.state.userInfo.provedor_id;a.setState({providerId:e}),B(K+e,function(e){if(""!==e){var t=JSON.parse(e),n=a.getColumnsCustomers(t),o=a.getDataCustomers(t);a.setState({customersFiltered:o,columns:n})}else a.unavailableServiceAlert()})},a.builderPushNotification=function(){var e={};e.title=a.state.title,e.message=a.state.message;var t=a.state.selection,n=a.state.customersFiltered,o=[];t.forEach(function(e){o.push(function(e,t){return e.find(function(e){return e._id===t})}(n,e))});var r=[],i=0;return o.map(function(e){console.log("PROVIDER SELECTED",a.state.providerId);var t={};if(t.key=a.state.providerId+"_"+e.Ident,t.relation="=",t.value="1",i>0){var n={operator:"OR"};r.push(n)}return i++,r.push(t)}),e.tags=r,e},a.getColumnsCustomers=function(e){var t=[];return Object.keys(e).length>0&&Object.keys(e[0]).forEach(function(e){"_id"!==e&&("Ident"===e?t.push({accessor:e,Header:e,show:!1}):t.push({accessor:e,Header:e}))}),t},a.getDataCustomers=function(e){return e.map(function(e){var t=(new J.a).guid();return Object(D.a)({_id:t},e)})},a.sendMessage=function(){a.setState({errorMessage:""});var e="",t=a.builderPushNotification();"undefined"!==t.tags&&0!==t.tags.length||(e="* Pelo menos um cliente precisa ser selecionado."),"undefined"!==t.title&&""!==t.title.trim()||(e.length>0&&(e+="\n"),e+="* O campo t\xedtulo precisa ser informado"),"undefined"!==t.message&&""!==t.message.trim()||(e.length>0&&(e+="\n"),e+="* O campo Conte\xfado precisa ser informado"),e.length>0?(a.setState({errorMessage:e}),window.scrollTo(0,0)):z(G,t,function(e){var t=JSON.parse(e),a="";a=200===t.code?"Notifica\xe7\xf5es enviadas com sucesso.":406===t.code?"Um ou mais clientes n\xe3o est\xe3o logados no Aplicativo, apenas usu\xe1rios logados conseguem receber as notifica\xe7\xf5es em forma de Push. Por\xe9m a mensagem ser\xe1 exibida na tela de notifica\xe7\xe3o.":"Erro ao tentar enviar notifica\xe7\xf5es, por favor tente novamente.",Z("",a,function(){window.location.reload()})})},a.defaultFilter=function(e,t,a){var n=e.pivotId||e.id;return void 0===t[n]||String(t[n].toLowerCase()).startsWith(e.value.toLowerCase())},a.toggleSelection=function(e,t,n){var o=Object(L.a)(a.state.selection),r=o.indexOf(e);r>=0?o=Object(L.a)(o.slice(0,r)).concat(Object(L.a)(o.slice(r+1))):o.push(e),a.setState({selection:o})},a.toggleAll=function(){var e=!a.state.selectAll,t=[];e&&a.checkboxTable.getWrappedInstance().getResolvedState().sortedData.forEach(function(e){t.push(e._original._id)});a.setState({selectAll:e,selection:t})},a.isSelected=function(e){return a.state.selection.includes(e)},a.state={title:"",message:"",selection:[],selectAll:!1,activeCustomersChecked:"S",defaulterCustomersChecked:"S",errorMessage:"",providerId:""},a.handleChangeTitle=a.handleChangeTitle.bind(Object(R.a)(Object(R.a)(a))),a.handleChangeMessage=a.handleChangeMessage.bind(Object(R.a)(Object(R.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(R.a)(Object(R.a)(a))),a.sendMessage=a.sendMessage.bind(Object(R.a)(Object(R.a)(a))),a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("userInfo"),t=JSON.parse(e);this.setState({userInfo:t})}},{key:"componentDidMount",value:function(){this.loadCustomers()}},{key:"handleChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"handleChangeMessage",value:function(e){this.setState({message:e.target.value})}},{key:"handleSubmit",value:function(e){this.builderPushNotification(),e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.toggleSelection,a=this.toggleAll,n=this.isSelected,r=this.state,i=r.columns;"undefined"===typeof i&&(i=[]);var s={selectAll:r.selectAll,isSelected:n,toggleSelection:t,toggleAll:a,selectType:"checkbox",getTrProps:function(t,a){return{style:{backgroundColor:e.isSelected(a.original._id)?"lightgreen":"inherit"}}}};return o.a.createElement("form",{id:"formQuestion",onSubmit:this.handleSubmit},this.state.errorMessage&&o.a.createElement("div",{className:"alert alert-danger display-linebreak"},this.state.errorMessage),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"text-center"},o.a.createElement("h4",{className:"title bold"},"Envio de mensagens para clientes")),o.a.createElement("div",null,o.a.createElement("div",{align:"right",className:"topnav search-container"},o.a.createElement("button",{onClick:this.sendMessage,type:"button",id:"buttonAction",className:"btn btn-primary"},"Enviar Mensagem"))),o.a.createElement("div",{className:"text-center"},o.a.createElement("div",{className:"wrapper right"},o.a.createElement("div",{className:"right"}))),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"form-group bold"},o.a.createElement("label",{htmlFor:"title"},"T\xedtulo"),o.a.createElement("input",{value:this.state.title,onChange:this.handleChangeTitle,type:"text",className:"form-control",id:"titleModal","aria-describedby":"titleHelp",placeholder:"Informe o t\xedtulo da mensagens",required:!0}),o.a.createElement("small",{id:"titlelHelp",className:"form-text text-muted"},"* Esta informa\xe7\xe3o \xe9 obrigat\xf3ria, informe o assunto da mensagem")),o.a.createElement("div",{className:"form-group bold"},o.a.createElement("label",{htmlFor:"conteudoThree"},"Conte\xfado"),o.a.createElement("textarea",{value:this.state.message,onChange:this.handleChangeMessage,rows:"3",className:"form-control",id:"conteudoModal","aria-describedby":"conteudoHelp",placeholder:"Informe o conte\xfado da mensagem",required:!0}),o.a.createElement("small",{id:"conteudoHelp",className:"form-text text-muted"},"* Esta informa\xe7\xe3o \xe9 obrigat\xf3ria, informe a mensagem que ser\xe1 enviada")),o.a.createElement(V,Object.assign({ref:function(t){return e.checkboxTable=t},filterable:!0,defaultFilterMethod:this.defaultFilter,minRows:0,data:this.state.customersFiltered,columns:i},s,{previousText:"Anterior",nextText:"Pr\xf3ximo",defaultPageSize:10,loadingText:"Carregando...",noDataText:"Lista vazia.",pageText:"P\xe1gina",ofText:"de",rowsText:"linhas"})))))}}]),t}(n.Component),$=a(25),ee=Q.listNotificationsByProviderId,te=F()(H.a),ae=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(v.a)(this,Object(h.a)(t).call(this,e))).unavailableServiceAlert=function(){Object(O.confirmAlert)({title:"",message:"O servi\xe7o est\xe1 indispon\xedvel, por favor tente novamente. Caso o problema volte ocorrer, entre em contato com o suporte.",buttons:[{label:"OK",onClick:function(){return console.log("Connection refusied")}}]})},a.loadNotifications=function(){var e=a.state.userInfo.provedor_id;a.setState({providerId:e}),B(ee+e,function(e){if(""!==e){var t=JSON.parse(e),n=a.getColumnsNotifications(t),o=a.getDataNotifications(t);a.setState({notificationsFiltered:o,columns:n})}else a.unavailableServiceAlert()})},a.getColumnsNotifications=function(e){var t=[];return Object.keys(e).length>0&&Object.keys(e.data[0]).forEach(function(e){"_id"!==e&&t.push({accessor:e,Header:e})}),t},a.getDataNotifications=function(e){return e.data.map(function(e){var t=(new J.a).guid(),a=new Date(e.Data_de_Envio);return e.Data_de_Envio=Object($.formatToTimeZone)(a,"DD-MM-YYYY HH:mm",{timeZone:"America/Recife"}),Object(D.a)({_id:t},e)})},a.defaultFilter=function(e,t,a){var n=e.pivotId||e.id;return void 0===t[n]||String(t[n].toLowerCase()).startsWith(e.value.toLowerCase())},a.toggleSelection=function(e,t,n){var o=Object(L.a)(a.state.selection),r=o.indexOf(e);r>=0?o=Object(L.a)(o.slice(0,r)).concat(Object(L.a)(o.slice(r+1))):o.push(e),a.setState({selection:o})},a.toggleAll=function(){var e=!a.state.selectAll,t=[];e&&a.checkboxTable.getWrappedInstance().getResolvedState().sortedData.forEach(function(e){t.push(e._original._id)});a.setState({selectAll:e,selection:t})},a.isSelected=function(e){return a.state.selection.includes(e)},a.state={message:"",selection:[],selectAll:!1,errorMessage:"",providerId:""},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("userInfo"),t=JSON.parse(e);this.setState({userInfo:t})}},{key:"componentDidMount",value:function(){this.loadNotifications()}},{key:"render",value:function(){var e=this,t=this.toggleSelection,a=this.toggleAll,n=this.isSelected,r=this.state,i=r.columns;"undefined"===typeof i&&(i=[]);var s={selectAll:r.selectAll,isSelected:n,toggleSelection:t,toggleAll:a,selectType:"checkbox"};return o.a.createElement("form",{id:"formQuestion",onSubmit:this.handleSubmit},this.state.errorMessage&&o.a.createElement("div",{className:"alert alert-danger display-linebreak"},this.state.errorMessage),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"text-center"},o.a.createElement("h4",{className:"title bold"},"Notifica\xe7\xf5es enviadas")),o.a.createElement(te,Object.assign({ref:function(t){return e.checkboxTable=t},filterable:!0,defaultFilterMethod:this.defaultFilter,minRows:0,data:this.state.notificationsFiltered,columns:i},s,{previousText:"Anterior",nextText:"Pr\xf3ximo",defaultPageSize:10,loadingText:"Carregando...",noDataText:"Lista vazia.",pageText:"P\xe1gina",ofText:"de",rowsText:"linhas"}))))}}]),t}(n.Component),ne=Q.listOSsByProviderId,oe=F()(H.a),re=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(v.a)(this,Object(h.a)(t).call(this,e))).unavailableServiceAlert=function(){Object(O.confirmAlert)({title:"",message:"O servi\xe7o est\xe1 indispon\xedvel, por favor tente novamente. Caso o problema volte ocorrer, entre em contato com o suporte.",buttons:[{label:"OK",onClick:function(){return console.log("Connection refusied")}}]})},a.loadOSs=function(){var e=a.state.userInfo.provedor_id;a.setState({providerId:e}),B(ne+e,function(e){if(""!==e){var t=JSON.parse(e),n=a.getColumnsOSs(t),o=a.getDataOSs(t);a.setState({ossFiltered:o,columns:n})}else a.unavailableServiceAlert()})},a.getColumnsOSs=function(e){var t=[];return Object.keys(e).length>0&&Object.keys(e[0]).forEach(function(e){"_id"!==e&&t.push({accessor:e,Header:e})}),t},a.getDataOSs=function(e){return e.map(function(e){var t=(new J.a).guid(),a=new Date(e.Data_Abertura);return e.Data_Abertura=Object($.formatToTimeZone)(a,"DD-MM-YYYY HH:mm",{timeZone:"America/Recife"}),Object(D.a)({_id:t},e)})},a.defaultFilter=function(e,t,a){var n=e.pivotId||e.id;return void 0===t[n]||String(t[n].toLowerCase()).startsWith(e.value.toLowerCase())},a.toggleSelection=function(e,t,n){var o=Object(L.a)(a.state.selection),r=o.indexOf(e);r>=0?o=Object(L.a)(o.slice(0,r)).concat(Object(L.a)(o.slice(r+1))):o.push(e),a.setState({selection:o})},a.toggleAll=function(){var e=!a.state.selectAll,t=[];e&&a.checkboxTable.getWrappedInstance().getResolvedState().sortedData.forEach(function(e){t.push(e._original._id)});a.setState({selectAll:e,selection:t})},a.isSelected=function(e){return a.state.selection.includes(e)},a.state={message:"",selection:[],selectAll:!1,activeOSsChecked:"S",defaulterOSsChecked:"S",errorMessage:"",providerId:""},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("userInfo"),t=JSON.parse(e);this.setState({userInfo:t})}},{key:"componentDidMount",value:function(){this.loadOSs()}},{key:"render",value:function(){var e=this,t=this.toggleSelection,a=this.toggleAll,n=this.isSelected,r=this.state,i=r.columns;"undefined"===typeof i&&(i=[]);var s={selectAll:r.selectAll,isSelected:n,toggleSelection:t,toggleAll:a,selectType:"checkbox"};return o.a.createElement("form",{id:"formQuestion",onSubmit:this.handleSubmit},this.state.errorMessage&&o.a.createElement("div",{className:"alert alert-danger display-linebreak"},this.state.errorMessage),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"text-center"},o.a.createElement("h4",{className:"title bold"},"Ordens de Servi\xe7o Registradas")),o.a.createElement(oe,Object.assign({ref:function(t){return e.checkboxTable=t},filterable:!0,defaultFilterMethod:this.defaultFilter,minRows:0,data:this.state.ossFiltered,columns:i},s,{previousText:"Anterior",nextText:"Pr\xf3ximo",defaultPageSize:10,loadingText:"Carregando...",noDataText:"Lista vazia.",pageText:"P\xe1gina",ofText:"de",rowsText:"linhas"}))))}}]),t}(n.Component),ie=(a(32),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(v.a)(this,Object(h.a)(t).call(this,e))).signInHandler=function(){a.setState({errorMessage:""});var e=a.state,t=e.email,n=e.password;C.auth().signInWithEmailAndPassword(encodeURI(t),encodeURI(n)).then(function(){a.getUserInfo()}).catch(function(e){var t;console.log("deu erro no catch",e);var n=e.code;switch(n&&n.split("/")[1]){case"wrong-password":case"invalid-email":t="Email ou senha inv\xe1lidos.";break;case"user-not-found":t="Usu\xe1rio n\xe3o cadastrado no sistema.";break;default:t="Falha no Login. Por favor, tente mais tarde."}a.setState({errorMessage:t})})},a.getUserInfo=function(){var e=Q.getUserInfo+encodeURIComponent(a.state.email);B(e,function(e){var t=JSON.parse(e);if(200===t.code||304===t.code){var n=t.userInfo;"Ativo"===n.status?(localStorage.setItem("isLogged",!0),localStorage.setItem("userInfo",JSON.stringify(n)),a.props.history.push("/home")):(a.setState({pendingRegister:!0,userInfo:n}),a.loadProviders())}else Z("","Falha no login. Por favor, tente novamente ou se o erro persistir, contactar o HelpNet suporte.",function(){})})},a.loadProviders=function(){B(Q.listProviders,function(e){var t=JSON.parse(e),a=document.getElementById("providerContent"),n=document.createElement("select");n.style.width="100%",n.style.height="30px",n.id="mySelect",a.appendChild(n);for(var o=0;o<t.length;o++){var r=document.createElement("option");r.value=t[o].ID,r.text=t[o].NOME,n.appendChild(r)}})},a.handlerChooseProviderAndContinue=function(){var e=document.getElementById("mySelect"),t=e.options[e.selectedIndex].value,n={};n.userId=a.state.userInfo.id,n.confirmationCode=a.state.confirmationCode,n.provedorId=t,Y(Q.updateUser,n,function(e){var t=JSON.parse(e);200===t.code?a.getUserInfo():a.setState({errorMessage:t.message})})},a.state={email:"",password:"",errorMessage:"",pendingRegister:!1,confirmationCode:""},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"card card-container"},o.a.createElement("img",{id:"profile-img",className:"profile-img-card",alt:"Logo",src:a(44)}),o.a.createElement("p",{id:"profile-name",className:"profile-name-card"}),!this.state.pendingRegister&&o.a.createElement("div",null,o.a.createElement("div",{id:"form-signin",className:"form-signin"},o.a.createElement("input",{type:"email",id:"inputEmail",className:"form-control",placeholder:"Endere\xe7o de email",required:!0,onChange:function(t){return e.setState({email:t.target.value})}}),o.a.createElement("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Senha",required:!0,onChange:function(t){return e.setState({password:t.target.value})}}),o.a.createElement("button",{className:"btn btn-lg btn-primary btn-block btn-signin",type:"button",onClick:function(){return e.signInHandler()}},"Logar")),o.a.createElement(E.a,{className:"general-link",to:"/forgotpassword"},"Esqueceu a senha?"),o.a.createElement("div",{style:{marginTop:"10px"}},"N\xe3o possui cadastro?",o.a.createElement("span",{style:{marginLeft:"6px"}},o.a.createElement(E.a,{className:"general-link",to:"/signup"},"Cadastre-se")))),this.state.pendingRegister&&o.a.createElement("div",null,o.a.createElement("p",{style:{textAlign:"start"},className:"profile-name-card"},"Escolha o provedor:"),o.a.createElement("div",{style:{marginTop:"5px"},id:"providerContent"}),o.a.createElement("input",{type:"text",id:"inputCodeConfirmation",style:{marginTop:"10px"},className:"form-control",placeholder:"Insira o c\xf3digo de confirma\xe7\xe3o",required:!0,onChange:function(t){return e.setState({confirmationCode:t.target.value})}}),o.a.createElement("button",{style:{marginTop:"10px"},className:"btn btn-lg btn-primary btn-block btn-signin",type:"button",onClick:function(){return e.handlerChooseProviderAndContinue()}},"Continuar")),this.state.errorMessage&&o.a.createElement("div",{className:"alert alert-danger"},o.a.createElement("strong",null,"Oops!")," ",this.state.errorMessage))}}]),t}(n.Component)),se=Object(S.a)(ie),le=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(v.a)(this,Object(h.a)(t).call(this,e))).signUpHandler=function(){a.setState({errorMessage:""});var e=a.state,t=e.email,n=e.password;C.auth().createUserWithEmailAndPassword(encodeURI(t),encodeURI(n)).then(function(){var e={};e.login=a.state.email,z(Q.addUser,e,function(e){var t=JSON.parse(e);200===t.code?(a.setState({userId:t.userId}),a.setState({pendingRegister:!0}),a.loadProviders()):Z("","Falha no cadastro do usu\xe1rio. Por favor, tente novamente.",function(){})})}).catch(function(e){var t,n=e.code;switch(n&&n.split("/")[1]){case"email-already-in-use":t="Desculpe, este email j\xe1 existe em nosso sistema. Por favor, use um email diferente.";break;case"invalid-email":t="Email inv\xe1lido.";break;case"weak-password":t="A senha tem de ser no m\xednimo 6 caracteres.";break;default:t="Falha no cadastro. Tente novamente"}a.setState({errorMessage:t})})},a.loadProviders=function(){B(Q.listProviders,function(e){var t=JSON.parse(e),a=document.getElementById("providerContent"),n=document.createElement("select");n.style.width="100%",n.style.height="30px",n.id="mySelect",a.appendChild(n);for(var o=0;o<t.length;o++){var r=document.createElement("option");r.value=t[o].ID,r.text=t[o].NOME,n.appendChild(r)}})},a.handlerChooseProviderAndContinue=function(){var e=document.getElementById("mySelect"),t=e.options[e.selectedIndex].value,n={};n.userId=a.state.userId.toString(),n.confirmationCode=a.state.confirmationCode,n.provedorId=t,Y(Q.updateUser,n,function(e){var t=JSON.parse(e);200===t.code?a.getUserInfo():a.setState({errorMessage:t.message})})},a.getUserInfo=function(){var e=Q.getUserInfo+encodeURIComponent(a.state.email);B(e,function(e){var t=JSON.parse(e);200===t.code||304===t.code?Z("","Bem vindo ao HelpNet CMS!",function(){var e=t.userInfo;localStorage.setItem("isLogged",!0),localStorage.setItem("userInfo",JSON.stringify(e)),a.props.history.push("/home")}):Z("","Falha no login. Por favor, tente novamente ou se o erro persistir, contactar o HelpNet suporte.",function(){})})},a.state={email:"",password:"",errorMessage:"",pendingRegister:!1,confirmationCode:""},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"card card-container"},o.a.createElement("img",{id:"profile-img",className:"profile-img-card",alt:"Logo",src:a(44)}),o.a.createElement("p",{id:"dummySpace",className:"profile-name-card"}),!this.state.pendingRegister&&o.a.createElement("div",null,o.a.createElement("div",{id:"form-signin",className:"form-signin"},o.a.createElement("input",{type:"email",id:"inputEmail",className:"form-control",placeholder:"Endere\xe7o de email",required:!0,onChange:function(t){return e.setState({email:t.target.value})}}),o.a.createElement("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Senha (no m\xednimo 6 caracteres)",required:!0,onChange:function(t){return e.setState({password:t.target.value})}}),o.a.createElement("button",{className:"btn btn-lg btn-primary btn-block btn-signin",type:"button",onClick:function(){return e.signUpHandler()}},"Cadastrar")),o.a.createElement("div",null,"J\xe1 possui cadastro?",o.a.createElement("span",{style:{marginLeft:"6px"}},o.a.createElement(E.a,{className:"general-link",to:"/signin"},"Fa\xe7a seu login")))),this.state.pendingRegister&&o.a.createElement("div",null,o.a.createElement("p",{style:{textAlign:"start"},className:"profile-name-card"},"Escolha o provedor:"),o.a.createElement("div",{style:{marginTop:"5px"},id:"providerContent"}),o.a.createElement("input",{type:"text",id:"inputCodeConfirmation",style:{marginTop:"10px"},className:"form-control",placeholder:"Insira o c\xf3digo de confirma\xe7\xe3o",required:!0,onChange:function(t){return e.setState({confirmationCode:t.target.value})}}),o.a.createElement("button",{style:{marginTop:"10px"},className:"btn btn-lg btn-primary btn-block btn-signin",type:"button",onClick:function(){return e.handlerChooseProviderAndContinue()}},"Continuar")),this.state.errorMessage&&o.a.createElement("div",{style:{marginTop:"10px"},className:"alert alert-danger"},o.a.createElement("strong",null,"Oops!")," ",this.state.errorMessage))}}]),t}(n.Component),ce=Object(S.a)(le),ue=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(v.a)(this,Object(h.a)(t).call(this,e))).forgotPasswordHandler=function(){var e=a.state.email;C.auth().sendPasswordResetEmail(e).then(function(){a.setState({emailSent:!0})}).catch(function(t){var n,o=t.code;switch(o&&o.split("/")[1]){case"invalid-email":n="Email inv\xe1lido.";break;case"user-not-found":n="N\xe3o foi poss\xedvel encontrar uma conta do HelpNet associada a "+e;break;default:n="Falha na solicita\xe7\xe3o. Por favor, contactar o suporte."}a.setState({errorMessage:n})})},a.goToSignPage=function(){a.props.history.push("/signin")},a.state={email:"",errorMessage:"",emailSent:!1},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"card card-container"},!this.state.emailSent&&o.a.createElement("div",null,o.a.createElement("h3",null,"Vamos encontrar sua conta"),o.a.createElement("p",{style:{marginTop:"16px"}},"Por favor, preencha seu email."),o.a.createElement("div",{id:"form-signin",className:"form-signin"},o.a.createElement("input",{type:"email",id:"inputEmail",className:"form-control",placeholder:"Endere\xe7o de email",required:!0,onChange:function(t){return e.setState({email:t.target.value})}}),o.a.createElement("button",{className:"btn btn-lg btn-primary btn-block btn-signin",type:"button",onClick:function(){return e.forgotPasswordHandler()}},"Procurar"),o.a.createElement("button",{className:"btn btn-lg btn-block btn-signin-cancel",type:"button",onClick:function(){return e.goToSignPage()}},"Cancelar"),this.state.errorMessage&&o.a.createElement("div",{className:"alert alert-danger"},o.a.createElement("strong",null,"Oops!")," ",this.state.errorMessage))),this.state.emailSent&&o.a.createElement("div",null,o.a.createElement("h3",null,"Enviamos um link para o seu email!"),o.a.createElement("p",{style:{marginTop:"16px",fontSize:"18px"}},"Por favor, verifique seu email e siga as instru\xe7\xf5es."),o.a.createElement("button",{className:"btn btn-lg btn-primary btn-block btn-signin",type:"button",onClick:function(){return e.goToSignPage()}},"Finalizar"),o.a.createElement("p",{style:{marginTop:"20px",fontSize:"14px"}},"Dica: Se n\xe3o consegue encontrar o email que enviamos, verifique seus spams.")))}}]),t}(n.Component),de=Object(S.a)(ue),me=function(e){function t(){return Object(p.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"text-center"},o.a.createElement("h5",{className:"title"},"A p\xe1gina solicitada, n\xe3o foi encontrada.")))}}]),t}(n.Component),ge=function(e){var t=e.Component,a=Object(u.a)(e,["Component"]);return o.a.createElement(d.a,Object.assign({},a,{render:function(){return JSON.parse(localStorage.getItem("isLogged"))?o.a.createElement("div",null,o.a.createElement(T,null),o.a.createElement(t,null)):o.a.createElement(se,null)}}))},pe=function(e){var t=e.Component,a=Object(u.a)(e,["Component"]);return o.a.createElement(d.a,Object.assign({},a,{render:function(){return JSON.parse(localStorage.getItem("isLogged"))?o.a.createElement(P,null):o.a.createElement(t,null)}}))},fe=function(){return o.a.createElement(s.a,null,o.a.createElement("div",null,o.a.createElement("div",{className:"container"},o.a.createElement(g.a,null,o.a.createElement(ge,{exact:!0,path:"/",Component:P}),o.a.createElement(ge,{exact:!0,path:"/app",Component:P}),o.a.createElement(ge,{exact:!0,path:"/home",Component:P}),o.a.createElement(ge,{exact:!0,path:"/myData",Component:M}),o.a.createElement(ge,{exact:!0,path:"/sendNotification",Component:X}),o.a.createElement(ge,{exact:!0,path:"/listNotification",Component:ae}),o.a.createElement(ge,{exact:!0,path:"/ListOS",Component:re}),o.a.createElement(pe,{exact:!0,path:"/signin",Component:se}),o.a.createElement(pe,{exact:!0,path:"/signup",Component:ce}),o.a.createElement(pe,{exact:!0,path:"/forgotpassword",Component:de}),o.a.createElement(d.a,{component:me})))))};i.a.render(o.a.createElement(s.a,null,o.a.createElement(function(){return o.a.createElement(fe,null)},null)),document.getElementById("content")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");l?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):c(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):c(e)})}}()},32:function(e,t,a){},44:function(e,t,a){e.exports=a.p+"static/media/logo-default.c8e0db0d.png"},46:function(e,t,a){e.exports=a.p+"static/media/logo-default.c8e0db0d.png"},49:function(e,t,a){e.exports=a(103)},58:function(e,t,a){},60:function(e,t,a){}},[[49,2,1]]]);
//# sourceMappingURL=main.16d1b1f8.chunk.js.map